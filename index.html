<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventario Higiene Bucodental</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@500;700&family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .search-container { position: sticky; top: 0; z-index: 50; }
        .qty-badge { font-family: 'JetBrains Mono', monospace; min-width: 90px; display: inline-block; text-align: center; }
        tr:nth-child(even) { background-color: #f1f5f9; }
        .item-row:hover { background-color: #e2e8f0 !important; }
    </style>
</head>
<body class="pb-12 text-slate-900">

<div class="search-container bg-white border-b-2 border-slate-200 p-4 shadow-sm">
    <div class="max-w-5xl mx-auto flex items-center gap-6">
        <input id="searchInput" type="text" placeholder="Buscar material o ubicación..."
               class="w-full px-4 py-3 bg-slate-100 rounded-lg font-semibold">
        <div class="text-right">
            <span class="text-xs font-black text-slate-400 uppercase">Total ítems</span>
            <span id="totalItems" class="text-2xl font-black text-blue-600">0</span>
        </div>
    </div>
</div>

<div class="max-w-5xl mx-auto px-4 mt-8">
    <div id="inventoryContainer"></div>

    <div class="mt-12 bg-white border-2 border-amber-200 rounded-xl overflow-hidden">
        <div class="bg-amber-500 px-6 py-3 font-black text-white">PEDIDOS PENDIENTES</div>
        <div id="pedidosContainer"></div>
    </div>
</div>

<script>
const inventory = [

/* ARMARIOS */
{ loc:"Armario 1", name:"Pistolas de composite", qty:"4 uds", spec:"Conservadora" },
{ loc:"Armario 1", name:"Mezcladores de amalgama (desechar)", qty:"Varios", spec:"Conservadora" },

{ loc:"Armario 2", name:"Vacío", qty:"—", spec:"—" },

{ loc:"Armario 3", name:"Bata de plomo", qty:"1 ud", spec:"Radiología" },
{ loc:"Armario 3", name:"Placa de Perry", qty:"1 ud", spec:"Radiología" },

{ loc:"Armario 4", name:"Gel flúor para cubetas", qty:"2 botes", spec:"Preventiva" },
{ loc:"Armario 4", name:"Pastas de dientes", qty:"7 cajas", spec:"Higiene" },
{ loc:"Armario 4", name:"Hilo dental", qty:"2 uds", spec:"Higiene" },
{ loc:"Armario 4", name:"Espátulas y bases de escayola", qty:"Varias", spec:"Prótesis" },
{ loc:"Armario 4", name:"Vibrador de yeso", qty:"1 ud", spec:"Laboratorio" },
{ loc:"Armario 4", name:"Máquina de vacío", qty:"1 ud", spec:"Laboratorio" },
{ loc:"Armario 4", name:"Modelos de escayola", qty:"Varios", spec:"Prótesis" },
{ loc:"Armario 4", name:"Placas retenedores ortodoncia", qty:"2 uds", spec:"Ortodoncia" },
{ loc:"Armario 4", name:"Placa retenedor rígida", qty:"1 ud", spec:"Ortodoncia" },

{ loc:"Armario 5", name:"Mascarillas (adultos y niños)", qty:"Ilimitado", spec:"EPI" },

{ loc:"Armario 6", name:"Agua destilada 5 L", qty:"3 botellas", spec:"Higiene" },
{ loc:"Armario 6", name:"Mascarillas negras", qty:"18 paquetes", spec:"EPI" },
{ loc:"Armario 6", name:"Guantes talla S", qty:"2 cajas", spec:"EPI" },
{ loc:"Armario 6", name:"Guantes talla M", qty:"1 caja", spec:"EPI" },
{ loc:"Armario 6", name:"Guantes talla L", qty:"3 cajas", spec:"EPI" },
{ loc:"Armario 6", name:"Patucos", qty:"Varios", spec:"EPI" },

{ loc:"Armario 7", name:"Basura", qty:"1 ud", spec:"General" },
{ loc:"Armario 7", name:"Póster anatomía completo", qty:"1 ud", spec:"Docencia" },
{ loc:"Armario 7", name:"Desinfectante de superficies", qty:"Varios", spec:"Higiene" },
{ loc:"Armario 7", name:"Alcohol", qty:"Varios", spec:"Higiene" },
{ loc:"Armario 7", name:"Desatascador", qty:"1 ud", spec:"Mantenimiento" },

{ loc:"Armario 8", name:"Pantoma", qty:"2 uds", spec:"Prótesis" },
{ loc:"Armario 8", name:"Escayola", qty:"4 kg", spec:"Prótesis" },
{ loc:"Armario 8", name:"Papel manos / baberos", qty:"Muchos", spec:"Higiene" },
{ loc:"Armario 8", name:"Tipodonto", qty:"5 uds", spec:"Docencia" },
{ loc:"Armario 8", name:"Recambios dientes tipodonto", qty:"Varios", spec:"Docencia" },
{ loc:"Armario 8", name:"Barreño plegable", qty:"1 ud", spec:"General" },
{ loc:"Armario 8", name:"Intercambiador punta ultrasonido", qty:"1 ud", spec:"Higiene" },

{ loc:"Armario 9", name:"Caja ultrasonido", qty:"1 ud", spec:"Higiene" },
{ loc:"Armario 9", name:"Caja componentes lámpara polimerizar", qty:"1 ud", spec:"Conservadora" },
{ loc:"Armario 9", name:"Joyas dentales", qty:"Varias", spec:"Estética" },
{ loc:"Armario 9", name:"Caja dispensador de vasos", qty:"1 ud", spec:"Higiene" },
{ loc:"Armario 9", name:"Limas de endodoncia", qty:"Varias", spec:"Endodoncia" },
{ loc:"Armario 9", name:"Alcohol", qty:"1 bote", spec:"Higiene" },
{ loc:"Armario 9", name:"Taza mezcla alginato", qty:"1 ud", spec:"Prótesis" },

/* CAJONES */
{ loc:"Cajón 1", name:"Test de esporas", qty:"Varios", spec:"Esterilización" },
{ loc:"Cajón 1", name:"Instrumental variado", qty:"Varios", spec:"General" },

{ loc:"Cajón 2", name:"EPIs", qty:"Varios", spec:"EPI" },

{ loc:"Cajón 3", name:"Vacío", qty:"—", spec:"—" },

{ loc:"Cajón 4", name:"Aspiradores", qty:"Varios", spec:"Higiene" },
{ loc:"Cajón 4", name:"Torundas de algodón", qty:"Varias", spec:"Higiene" },

{ loc:"Cajón 5", name:"Guantes estériles", qty:"18 pares", spec:"EPI" },
{ loc:"Cajón 5", name:"Baberos", qty:"5 paquetes", spec:"Higiene" },
{ loc:"Cajón 5", name:"Coleteros", qty:"Varios", spec:"General" },

{ loc:"Cajón 6", name:"Protector de cabezal", qty:"1 ud", spec:"Equipo" },
{ loc:"Cajón 6", name:"Bandejas de pocillos desechables", qty:"7 paquetes", spec:"Higiene" },

{ loc:"Cajón 7", name:"Guías de color", qty:"Varias", spec:"Prótesis" },
{ loc:"Cajón 7", name:"Ceras de mordida", qty:"Varias", spec:"Prótesis" },
{ loc:"Cajón 7", name:"Arcilla blanca", qty:"1 bloque", spec:"Prótesis" },

{ loc:"Cajón 8", name:"Alicates de ortodoncia esterilizados", qty:"Varios", spec:"Ortodoncia" },
{ loc:"Cajón 8", name:"Fórceps infantil", qty:"1 ud", spec:"Cirugía" },
{ loc:"Cajón 8", name:"Agujas anestesia cortas", qty:"6 cajas", spec:"Cirugía" },
{ loc:"Cajón 8", name:"Agujas anestesia largas", qty:"1 caja", spec:"Cirugía" },
{ loc:"Cajón 8", name:"Agujas de sutura", qty:"2 cajas", spec:"Cirugía" },
{ loc:"Cajón 8", name:"Material quirúrgico esterilizado", qty:"Varios", spec:"Cirugía" },
{ loc:"Cajón 8", name:"Piel artificial para sutura", qty:"1 ud", spec:"Docencia" },
{ loc:"Cajón 8", name:"Mangos y hojas de bisturí", qty:"Varios", spec:"Cirugía" }
];

const pedidos = [
{ name:"Pistola silicona fluida", qty:"1 ud" },
{ name:"Rollos de papel", qty:"4 rollos" }
];

/* renderizado y orden */
function customSort(d){return d.sort((a,b)=>{const p=s=>{const m=s.match(/(\D+)\s*(\d+)/);return m?{t:m[1],n:+m[2]}:{t:s,n:0}};const A=p(a.loc),B=p(b.loc);if(A.t!==B.t)return A.t==="Armario"?-1:1;return A.n-B.n})}

function renderInventory(f=""){
const c=document.getElementById("inventoryContainer");c.innerHTML="";
const g={};let count=0;
customSort([...inventory]).forEach(i=>{if(!g[i.loc])g[i.loc]=[];g[i.loc].push(i)});
Object.keys(g).forEach(l=>{
const items=g[l].filter(i=>i.name.toLowerCase().includes(f.toLowerCase()));
if(!items.length)return;
c.innerHTML+=`
<div class="mb-8 bg-white border rounded-xl">
<div class="bg-slate-800 text-white px-6 py-3 font-black">${l}</div>
<table class="w-full">
${items.map(i=>{count++;return`
<tr class="item-row">
<td class="px-6 py-4"><b>${i.name}</b><div class="text-xs text-slate-400">${i.spec}</div></td>
<td class="px-6 py-4 text-right"><span class="qty-badge bg-blue-600 text-white px-3 py-1 rounded">${i.qty}</span></td>
</tr>`}).join("")}
</table></div>`;
});
document.getElementById("totalItems").innerText=count;
}

function renderPedidos(){
document.getElementById("pedidosContainer").innerHTML=
pedidos.map(p=>`<div class="flex justify-between px-6 py-4 border-b"><b>${p.name}</b><span>${p.qty}</span></div>`).join("");
}

document.getElementById("searchInput").addEventListener("input",e=>renderInventory(e.target.value));
renderInventory(); renderPedidos();
</script>
</body>
</html>
